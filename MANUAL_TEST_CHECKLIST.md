# WSJF 手动测试清单

**测试环境**: https://xiaomi-4g92opdf60df693e-1314072882.tcloudbaseapp.com/
**测试工具**: Chrome DevTools（F12）
**测试日期**: 2025-11-14

---

## 📋 测试前准备

1. ✅ 打开Chrome浏览器
2. ✅ 强制刷新页面（Ctrl + Shift + R）
3. ✅ 打开DevTools（F12）
4. ✅ 切换到Console标签，清空日志
5. ✅ 准备测试文件：
   - 标准备份Excel（数据模式导出）
   - 展示模式Excel
   - 普通Excel文件
   - PDF文件（可选）

---

## 🧪 核心功能测试

### 1. 智能导入系统 ⭐

#### 测试1.1：完整还原导入（标准格式）
- [ ] 点击"导入"按钮
- [ ] 看到ImportEntryModal（友好的入口界面）
- [ ] 上传"数据模式导出"的Excel（4个Sheet）
- [ ] 控制台显示：`[FileFormatDetector] Excel Sheets: ['元数据', '需求数据', '迭代池配置', '待排期列表']`
- [ ] 显示绿色按钮："使用完整还原导入"
- [ ] 点击绿色按钮
- [ ] 进入ImportValidationModal
- [ ] 验证结果显示：✅ 验证通过
- [ ] 显示数据预览（总需求数、已排期、待排期、迭代池数）
- [ ] 选择"替换模式"
- [ ] 点击"确认导入"
- [ ] 导入成功，页面显示导入的数据

#### 测试1.2：AI智能导入（展示模式）
- [ ] 点击"导入"按钮
- [ ] 上传"展示模式导出"的Excel（1个Sheet）
- [ ] 控制台显示：`[FileFormatDetector] Excel Sheets: ['WSJF排期']`
- [ ] 显示紫色按钮："使用AI智能导入"
- [ ] 点击紫色按钮
- [ ] 立即看到Toast：📊 正在解析Excel文件...
- [ ] 进入ImportPreviewModal（字段映射界面）
- [ ] 显示字段映射表
- [ ] 显示数据预览
- [ ] 可选择AI辅助功能（需要配置API Key）
- [ ] 点击"确认导入"
- [ ] 导入成功

#### 测试1.3：追加模式
- [ ] 当前已有一些需求
- [ ] 导入一个备份文件
- [ ] 选择"追加模式"
- [ ] 点击"确认导入"
- [ ] **验证**：新旧需求都存在（不是清空后导入）
- [ ] **验证**：需求数 = 原有数 + 新导入数（去重后）

#### 测试1.4：脏数据兼容
- [ ] 导出一个备份文件
- [ ] 用Excel打开，删除几行需求
- [ ] 保存并重新导入
- [ ] 看到警告："待排期列表中有 X 个无效引用已自动清理"
- [ ] 显示清理统计报告
- [ ] 导入按钮可用（不是禁用）
- [ ] 点击"确认导入"
- [ ] 导入成功，只导入存在的需求

### 2. 导出功能

#### 测试2.1：展示模式导出
- [ ] 点击"导出"按钮
- [ ] 选择"展示模式"
- [ ] 选择"Excel (.xlsx)"
- [ ] 点击"导出"
- [ ] 下载Excel文件
- [ ] **验证**：Excel有30+列（名称、工作量、业务影响度、技术复杂度、影响指标等）
- [ ] **验证**：数据格式化友好，易于阅读

#### 测试2.2：数据模式导出
- [ ] 点击"导出"按钮
- [ ] 选择"数据模式"
- [ ] 选择"Excel (.xlsx)"
- [ ] 点击"导出"
- [ ] 下载Excel文件
- [ ] **验证**：Excel有4个Sheet（元数据、需求数据、迭代池配置、待排期列表）
- [ ] **验证**：元数据Sheet包含版本号、时间戳等

#### 测试2.3：JSON导出
- [ ] 点击"导出"按钮
- [ ] 选择"数据模式"
- [ ] 选择"JSON (.json)"
- [ ] 点击"导出"
- [ ] 下载JSON文件
- [ ] 用文本编辑器打开验证结构正确

### 3. 飞书集成导入

#### 测试3.1：自动登录
- [ ] 点击"从飞书导入"按钮
- [ ] **验证**：直接进入项目选择步骤（不需要填写User Key）
- [ ] 如果CORS问题已解决，应该看到项目列表
- [ ] 如果仍有CORS错误，应该显示友好的提示

### 4. 单个需求删除

#### 测试4.1：气泡视图删除
- [ ] 在待排期区（气泡视图）
- [ ] hover 一个需求卡片
- [ ] 看到右上角红色删除按钮
- [ ] 点击删除
- [ ] 弹出确认对话框
- [ ] 点击确认
- [ ] 需求被删除

#### 测试4.2：列表视图删除
- [ ] 切换到列表视图
- [ ] 在最右侧"操作"列看到删除按钮
- [ ] 点击删除按钮
- [ ] 弹出确认
- [ ] 需求被删除

### 5. 基础功能验证

#### 测试5.1：创建需求
- [ ] 点击"新建需求"
- [ ] 填写表单
- [ ] 保存
- [ ] 需求出现在待排期区

#### 测试5.2：拖拽排期
- [ ] 从待排期区拖拽需求
- [ ] 放到迭代池
- [ ] 需求移动成功
- [ ] 迭代池资源统计更新

#### 测试5.3：数据持久化
- [ ] 刷新页面
- [ ] **验证**：数据不丢失
- [ ] LocalStorage包含数据

---

## 🔍 Chrome DevTools测试要点

### Console检查
- [ ] 无红色错误
- [ ] 无CORS错误
- [ ] 日志信息清晰

### Network检查
- [ ] 资源加载成功（无404）
- [ ] 如果使用飞书导入，检查CORS头

### Performance检查
- [ ] 页面加载 < 3秒
- [ ] 操作响应流畅
- [ ] 无内存泄漏

### Application检查
- [ ] LocalStorage数据正确
- [ ] 数据结构合理

---

## ✅ 测试通过标准

全部功能测试通过后，确认：

- [ ] 所有导入方式工作正常
- [ ] 所有导出方式工作正常
- [ ] 删除功能正常
- [ ] 数据持久化正常
- [ ] 无Console错误
- [ ] 性能良好

---

**测试完成时间**: ___________
**测试人**: ___________
**测试结果**: ✅ 通过 / ❌ 失败
**发现问题**: ___________
